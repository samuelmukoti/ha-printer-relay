FROM python:3.11-slim

WORKDIR /app

# Copy test files
COPY tests/ /app/tests/

# Copy configuration files that are tested
COPY config.json /app/
COPY config.yaml /app/

# Install test dependencies
RUN pip install -r tests/requirements.txt

# Run tests
CMD ["python3", "-m", "pytest", "tests/test_config.py", "-v", "--cov=.", "--cov-report=term-missing"] 